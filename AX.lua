--Kenny泛滥外部汉化脚本 B站UID:1531514159
local Translations = {
    --["这里填要替换的英文"] = "这里填中文",
    ["Toggle"] = "切换",
    ["AX-SCRIPTS"] = "AX脚本",
    ["Search"] = "搜索",
    ["Games"] = "游戏",
    ["Combat"] = "战斗",
    ["Miscs"] = "杂项",
    ["Players"] = "玩家",
    ["Guards"] = "防护",
    ["Settings"] = "设置",
    ["Jump Rope"] = "跳绳",
    ["Finish Jump Rope"] = "完成跳绳",
    ["Disable Game"] = "禁用游戏",
    ["Simulate Balance"] = "模拟平衡",
    ["Auto Jump"] = "自动跳跃",
    ["Fix Broken Tracks"] = "修复损坏轨道",
    ["Unlimited Chances"] = "无限机会",
    ["Bypass Rope"] = "绕过绳索",
    ["Auto Balance"] = "自动平衡",
    ["Press Speed"] = "按压速度",
    ["Randomize Press Speed"] = "随机按压速度",
    ["Pentathlon"] = "五项全能",
    ["Auto Ddakji"] = "自动翻牌",
    ["Auto Flying Stone"] = "自动飞石",
    ["Auto Gonggi"] = "自动抓石子",
    ["Gonggi QTE Speed"] = "抓石子QTE速度",
    ["Randomize QTE Speed"] = "随机QTE速度",
    ["Auto Spinning Top"] = "自动陀螺",
    ["Spinning Top Speed"] = "陀螺速度",
    ["Randomize Balance Speed"] = "随机平衡速度",
    ["Auto Jegi"] = "自动踢毽子",
    ["Key System"] = "密钥系统",
    ["Authentication"] = "验证",
    ["Enter Key"] = "输入密钥",
    ["Insert your key here"] = "在此输入你的密钥",
    ["Get Key (Linkvertise)"] = "获取密钥(Linkvertise)",
    ["Get Key (Work Ink)"] = "获取密钥(Work Ink)",
    ["Check Key"] = "检查密钥",
    ["Join Discord"] = "加入Discord",
    ["Copied To Clipboard: Ad Reward Link has been copied to your clipboard"] = "已复制到剪贴板：广告奖励链接已复制到你的剪贴板",
    ["Loader | AX-SCRIPTS"] = "加载器 | AX脚本",
    ["Ink Game | by AlexScriptX"] = "墨水游戏 | 作者AlexScriptX",
    -- 第一波新增汉化
    ["Sky Squid Game"] = "天空鱿鱼游戏",
    ["Infinite Stamina"] = "无限体力",
    ["Press Button"] = "按下按钮",
    ["Get Pole"] = "获取杆子",
    ["Anti Fall"] = "防坠落",
    ["Void Kill"] = "虚空击杀",
    ["Tug of War"] = "拔河",
    ["Rope Pull Mode"] = "拉绳模式",
    ["Normal"] = "普通",
    ["Pull Rope"] = "拉绳子",
    ["Glass Bridge"] = "玻璃桥",
    ["Reveal Safe & Fake Glass"] = "显示真假玻璃",
    ["Anti Break Glass"] = "防玻璃破碎",
    ["Finish Glass Bridge"] = "完成玻璃桥",
    ["Hitbox + ESP"] = "碰撞箱+透视",
    ["Hitbox Size"] = "碰撞箱大小",
    ["Hitbox Transparency"] = "碰撞箱透明度",
    ["Last Dinner"] = "最后的晚餐",
    ["Safe Zone"] = "安全区",
    ["Zone Kill"] = "区域击杀",
    ["Squid Game"] = "鱿鱼游戏",
    ["Get Rock"] = "获取石头",
    ["Red Light, Green Light"] = "红灯绿灯",
    ["Auto Stop"] = "自动停止",
    ["Disable Injury"] = "禁用受伤",
    ["Finish RLGL"] = "完成红灯绿灯",
    ["Dalgona"] = "椪糖游戏",
    ["Anti Crack"] = "防碎裂",
    ["Get Lighter"] = "获取打火机",
    ["Auto Dalgona"] = "自动椪糖",
    ["Auto Dalgona V2"] = "自动椪糖二代",
    ["Teleport to Seeker"] = "传送到搜寻者处",
    ["Select Exit Door"] = "选择出口门",
    ["Teleport to Exit Door"] = "传送到出口门",
    ["Rebel"] = "反抗",
    ["Auto Shoot"] = "自动射击",
    ["Wall Check"] = "穿墙检测",
    ["Lights Out"] = "熄灯游戏",
    ["Hide N' Seek"] = "捉迷藏",
    ["Show Exit Doors (Yellow)"] = "显示出口门(黄色)",
    ["Show Doors (Green | Cir/Tri/Sqr)"] = "显示门(绿色|圆/三角/方)",
    ["Show Dropped Keys (Purple)"] = "显示掉落钥匙(紫色)",
    ["Show Staircases (Brown)"] = "显示楼梯(棕色)",
    ["Show Spikes (Black)"] = "显示尖刺(黑色)",
    ["Pickup Keys"] = "拾取钥匙",
    ["Auto Escape"] = "自动逃脱",
    ["Auto Dodge"] = "自动闪避",
    ["Fast Sprint"] = "快速冲刺",
    ["Spikes Kill"] = "尖刺击杀",
    ["Disable Spikes"] = "禁用尖刺",
    ["Teleport to Hider"] = "传送到躲藏者处",
    -- 第二波新增汉化
    ["Troll"] = "恶搞",
    ["Manual"] = "手动",
    ["Perfect"] = "完美",
    ["Rage"] = "暴怒",
    ["Ultra Rage"] = "终极暴怒",
    ["PLEASE EXIT"] = "请退出",
    -- 战斗界面第一波汉化
    ["Auto Attack"] = "自动攻击",
    ["Target"] = "目标",
    ["Closest"] = "最近",
    ["Whitelist"] = "白名单",
    ["Weapons to auto equip"] = "自动装备武器",
    ["Fork, Bottle, Pole, Kn.."] = "叉子、瓶子、杆子、刀..",
    ["Auto Attack Range"] = "自动攻击范围",
    ["Auto Equip Tool"] = "自动装备工具",
    ["Show Range"] = "显示范围",
    ["ESP Elements"] = "透视元素",
    ["Box Fill, Box Outline,.."] = "盒子填充、盒子轮廓..",
    ["Tracer Mode"] = "追踪线模式",
    ["Over Head"] = "头顶显示",
    ["Select Player"] = "选择玩家",
    ["ESP Distance"] = "透视距离",
    ["studs"] = "单位",
    ["ESP Performance Mode"] = "透视性能模式",
    ["Show Only My Team"] = "仅显示我的队伍",
    ["Show Only Enemy Team"] = "仅显示敌方队伍",
    ["Trail"] = "轨迹",
    -- 战斗界面第二波汉化
    ["Aimlock"] = "自动锁头",
    ["Aimlock Mode"] = "锁头模式",
    ["LookingAt"] = "朝向目标",
    ["Teleport"] = "传送",
    ["Random"] = "随机",
    ["Quick Teleport"] = "快速传送",
    ["Facing"] = "朝向",
    ["HNS Mode"] = "捉迷藏模式",
    ["Attach"] = "附着",
    ["ESP"] = "透视",
    ["Enable ESP"] = "启用透视",
    -- 混合文本优化汉化
    ["Teleport 目标 Mode"] = "传送目标模式",
    ["Teleport to 目标"] = "传送到目标",
    ["Face 目标"] = "朝向目标",
    ["Attach 目标"] = "附着目标",
    ["Select 目标 Player"] = "选择目标玩家",
    ["自动射击 Mode"] = "自动射击模式",
    -- 杂项/防护/玩家/设置界面新增汉化
    ["Legit"] = "常规",
    ["Auto QTE"] = "自动QTE",
    ["Auto Skip Dialogue"] = "自动跳过对话",
    ["Auto Next Game"] = "自动下一局",
    ["Disable Effects"] = "禁用特效",
    ["Low GFX"] = "低配画质",
    ["Fullbright"] = "全亮模式",
    ["Pickup Bandages"] = "拾取绷带",
    ["FOV Changer"] = "视野修改器",
    ["Instant Interact"] = "即时交互",
    ["Lobby"] = "大厅",
    ["Enable VIP"] = "启用VIP",
    ["Glass Manufacturer Vision"] = "玻璃制造者视角",
    ["2x Vote Count"] = "双倍投票数",
    ["Custom Player Tag"] = "自定义玩家标签",
    ["Emote Pages"] = "表情页面",
    ["Private Server+"] = "私人服务器+",
    ["Permanent Guard"] = "永久守卫",
    ["Custom Player Tag (NOT FE)"] = "自定义玩家标签(非前端)",
    ["Set a custom tag"] = "设置自定义标签",
    ["Enter custom number"] = "输入自定义数字",
    ["Auto New Round"] = "自动新回合",
    ["Auto Return Lobby"] = "自动返回大厅",
    ["Auto Unlock Rewards"] = "自动解锁奖励",
    ["Player (NOT FE)"] = "玩家(非前端)",
    ["Noclip"] = "穿墙",
    ["Fly"] = "飞行",
    ["Anti Void"] = "防虚空",
    ["Hide Nametag"] = "隐藏名称标签",
    ["Hide Other Nametags"] = "隐藏其他玩家名称标签",
    ["Select Title"] = "选择头衔",
    ["AFK King"] = "挂机之王",
    ["Equip Title"] = "装备头衔",
    ["Custom Titles"] = "自定义头衔",
    ["Select Power"] = "选择能力",
    ["PARKOUR ARTIST"] = "跑酷大师",
    ["Equip Power"] = "装备能力",
    ["Disable Dash Cooldown"] = "禁用冲刺冷却",
    ["Parkour Artist Mods"] = "跑酷大师模组",
    ["Security"] = "安全",
    ["Anti AFK"] = "防挂机",
    ["Staff Detector"] = "管理员检测",
    ["Hitbox Expander"] = "碰撞箱扩展",
    ["反抗 Hitbox"] = "反抗碰撞箱",
    ["碰撞箱大小"] = "碰撞箱大小",
    ["碰撞箱透明度"] = "碰撞箱透明度",
    ["Utilities"] = "实用工具",
    ["Guard Shape"] = "守卫形状",
    ["Circle"] = "圆形",
    ["Spawn as Guard"] = "以守卫身份生成",
    ["Insta Claw Machine"] = "即时抓娃娃机",
    ["Insta Arcade (works outside the g"] = "即时街机(可在外部使用)",
    ["Guns"] = "枪械",
    ["Modded Guns"] = "改装枪械",
    ["自动射击 (Silent Aim)"] = "自动射击(静默瞄准)",
    ["Player Info"] = "玩家信息",
    ["Select a player to view info"] = "选择玩家查看信息",
    ["None"] = "无",
    ["Biggest Threat"] = "最大威胁",
    ["UI设置"] = "UI设置",
    ["Open Keybind Menu"] = "打开按键绑定菜单",
    ["Enable Crosshair"] = "启用准星",
    ["Lock Button (Mobile)"] = "锁定按钮(移动端)",
    ["Notification Side"] = "通知位置",
    ["Top-Right"] = "右上角",
    ["DPI Scale"] = "DPI缩放",
    ["100%"] = "100%",
    ["Menu bind"] = "菜单绑定键",
    ["Unload"] = "卸载",
    ["Configuration"] = "配置",
    ["Config name"] = "配置名称",
    ["Create config"] = "创建配置",
    ["Config list"] = "配置列表",
    ["Load config"] = "加载配置",
    ["Overwrite config"] = "覆盖配置",
    ["Delete config"] = "删除配置",
    ["Refresh list"] = "刷新列表",
    ["Set as autoload"] = "设为自动加载",
    ["Reset autoload"] = "重置自动加载",
    ["Current autoload config: none"] = "当前自动加载配置：无",
    ["Themes"] = "主题",
    ["Background color"] = "背景颜色",
    ["Main color"] = "主颜色",
    ["Accent color"] = "强调色",
    ["Outline color"] = "轮廓颜色",
    ["Font color"] = "字体颜色",
    ["Font Face"] = "字体",
    ["Gotham"] = "哥谭体",
    ["Theme list"] = "主题列表",
    ["Default"] = "默认",
    ["Set as default"] = "设为默认",
    ["Custom theme name"] = "自定义主题名称",
    ["Create theme"] = "创建主题",
    ["Custom themes"] = "自定义主题",
    ["Load theme"] = "加载主题",
    ["Overwrite theme"] = "覆盖主题",
    ["Delete theme"] = "删除主题",
    ["Reset default"] = "重置默认",
    ["Box Fill"] = "盒子填充",
    ["Box Outline"] = "盒子轮廓",
    ["Name"] = "名称",
    ["Tool"] = "工具",
    ["Studs"] = "单位",
    ["Health Number"] = "血量数值",
    ["Health Bar"] = "血条",
    ["Skeleton"] = "骨骼",
    ["Tracer"] = "追踪线"
}

local function translateText(text)
    if not text or type(text) ~= "string" then return text end
    
    if Translations[text] then
        return Translations[text]
    end
    
    for en, cn in pairs(Translations) do
        if text:find(en) then
            return text:gsub(en, cn)
        end
    end
    
    return text
end

local function setupTranslationEngine()
    local success, err = pcall(function()
        local oldIndex = getrawmetatable(game).__newindex
        setreadonly(getrawmetatable(game), false)
        
        getrawmetatable(game).__newindex = newcclosure(function(t, k, v)
            if (t:IsA("TextLabel") or t:IsA("TextButton") or t:IsA("TextBox")) and k == "Text" then
                v = translateText(tostring(v))
            end
            return oldIndex(t, k, v)
        end)
        
        setreadonly(getrawmetatable(game), true)
    end)
    
    if not success then
        warn("元表劫持失败:", err)
       
        local translated = {}
        local function scanAndTranslate()
            for _, gui in ipairs(game:GetService("CoreGui"):GetDescendants()) do
                if (gui:IsA("TextLabel") or gui:IsA("TextButton") or gui:IsA("TextBox")) and not translated[gui] then
                    pcall(function()
                        local text = gui.Text
                        if text and text ~= "" then
                            local translatedText = translateText(text)
                            if translatedText ~= text then
                                gui.Text = translatedText
                                translated[gui] = true
                            end
                        end
                    end)
                end
            end
            
            local player = game:GetService("Players").LocalPlayer
            if player and player:FindFirstChild("PlayerGui") then
                for _, gui in ipairs(player.PlayerGui:GetDescendants()) do
                    if (gui:IsA("TextLabel") or gui:IsA("TextButton") or gui:IsA("TextBox")) and not translated[gui] then
                        pcall(function()
                            local text = gui.Text
                            if text and text ~= "" then
                                local translatedText = translateText(text)
                                if translatedText ~= text then
                                    gui.Text = translatedText
                                    translated[gui] = true
                                end
                            end
                        end)
                    end
                end
            end
        end
        
        local function setupDescendantListener(parent)
            parent.DescendantAdded:Connect(function(descendant)
                if descendant:IsA("TextLabel") or descendant:IsA("TextButton") or descendant:IsA("TextBox") then
                    task.wait(0.1)
                    pcall(function()
                        local text = descendant.Text
                        if text and text ~= "" then
                            local translatedText = translateText(text)
                            if translatedText ~= text then
                                descendant.Text = translatedText
                            end
                        end
                    end)
                end
            end)
        end
        
        pcall(setupDescendantListener, game:GetService("CoreGui"))
        local player = game:GetService("Players").LocalPlayer
        if player and player:FindFirstChild("PlayerGui") then
            pcall(setupDescendantListener, player.PlayerGui)
        end
        
        while true do
            scanAndTranslate()
            task.wait(0.5) --提速扫描，0.5秒更流畅
        end
    end
end

task.wait(2)
setupTranslationEngine()
print("✅Kenny泛滥汉化脚本加载成功！B站UID:1531514159")

local success, err = pcall(function()
--加载外部AX脚本
loadstring(game:HttpGet("https://officialaxscripts.vercel.app/scripts/AX-Loader.lua"))()
end)

if not success then
    warn("加载失败:", err)
end